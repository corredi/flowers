<jee:jndi-lookup id="dataSource" jndi-name="jdbc/flowerShopDS " xmlns:jee="http://www.springframework.org/schema/jee"/>

<bean id="flyway" class="org.flywaydb.core.Flyway" init-method="migrate">
<property name="dataSource" ref="dataSource"/>
<property name="locations">
    <array>
        <value>dbscripts</value>
    </array>
</property>
<property name="baselineOnMigrate" value="false"/>
<property name="outOfOrder" value="true"/>
<property name="sqlMigrationPrefix" value="v"/>
<property name="sqlMigrationSeparator" value="__"/>
<property name="placeholderPrefix" value="@{"/>
<property name="placeholderSuffix" value="}"/>
</bean>
<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"
      depends-on="flyway">
<property name="dataSource" ref="dataSource"/>
<property name="packagesToScan">
    <list>
        <value>com.accenture.flowershop.entity.*</value>
    </list>
</property>
<property name="jpaVendorAdapter">
    <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
        <property name="database" value="ORACLE"/>
        <property name="generateDdl" value="false"/>
        <property name="showSql" value="true"/>
    </bean>
</property>
<property name="jpaDialect">
    <bean class="org.springframework.orm.jpa.vendor.HibernateJpaDialect"/>
</property>
<property name="jpaProperties">
    <props>
        <prop key="hibernate.dialect">org.hibernate.dialect.H2Dialect</prop>
        <prop key="hibernate.show_sql">true</prop>
    </props>
</property>
</bean>